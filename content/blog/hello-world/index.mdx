---
title: 仮の記事
date: "2022-03-01"
description: AWSのEC2にrailsをデプロイする方法を書きたい（仮）
image_url: "https://user-images.githubusercontent.com/71915489/159754796-8d6c7f46-f819-40a7-8848-0a47bda7c79c.png"
tags: ["Rails", "Docker", "技術"]
---

## 目次 1

AWS は、、、

<div class="gatsby-code-title">
  <span>app/controllers/bookmarks_controller.rb</span>
</div>

```ruby
class Admin::UserSessionsController < Admin::BaseController
skip_before_action :require_login, only: %i[new create]
skip_before_action :check_admin, only: %i[new create]
layout 'layouts/admin_login'

def new; end

def create
@user = login(params[:email], params[:password])
if @user
redirect_to admin_root_path, success: t('.success')
else
flash.now[:danger] = t('.fail')
render :new
end
end

def destroy
logout
redirect_to admin_login_path, success: t('.success')
end

```

## 目次 1-1

### 目次 1-1-1

ここで下記を実行

```

$ rails db:migrate

```

AWS は、、、

<div class="gatsby-code-title">
  <span>app/controllers/bookmarks_controller.rb</span>
</div>
## 目次 2

## 目次 2-1

## 目次 2-2

```ruby
class Admin::UserSessionsController < Admin::BaseController
skip_before_action :require_login, only: %i[new create]
skip_before_action :check_admin, only: %i[new create]
layout 'layouts/admin_login'

def new; end

def create
@user = login(params[:email], params[:password])
if @user
redirect_to admin_root_path, success: t('.success')
else
flash.now[:danger] = t('.fail')
render :new
end
end

def destroy
logout
redirect_to admin_login_path, success: t('.success')
end

```

## 目次 3

## 目次 3-1

ここで下記を実行

```

$ rails db:migrate

```

AWS は、、、

<div class="gatsby-code-title">
  <span>app/controllers/bookmarks_controller.rb</span>
</div>

```ruby
class Admin::UserSessionsController < Admin::BaseController
skip_before_action :require_login, only: %i[new create]
skip_before_action :check_admin, only: %i[new create]
layout 'layouts/admin_login'

def new; end

def create
@user = login(params[:email], params[:password])
if @user
redirect_to admin_root_path, success: t('.success')
else
flash.now[:danger] = t('.fail')
render :new
end
end

def destroy
logout
redirect_to admin_login_path, success: t('.success')
end

```

ここで下記を実行

```

$ rails db:migrate

```

AWS は、、、

<div class="gatsby-code-title">
  <span>app/controllers/bookmarks_controller.rb</span>
</div>

```ruby
class Admin::UserSessionsController < Admin::BaseController
skip_before_action :require_login, only: %i[new create]
skip_before_action :check_admin, only: %i[new create]
layout 'layouts/admin_login'

def new; end

def create
@user = login(params[:email], params[:password])
if @user
redirect_to admin_root_path, success: t('.success')
else
flash.now[:danger] = t('.fail')
render :new
end
end

def destroy
logout
redirect_to admin_login_path, success: t('.success')
end

```

## 目次 4

## 目次 5

ここで下記を実行

```

$ rails db:migrate

```

AWS は、、、

<div class="gatsby-code-title">
  <span>app/controllers/bookmarks_controller.rb</span>
</div>

```ruby
class Admin::UserSessionsController < Admin::BaseController
skip_before_action :require_login, only: %i[new create]
skip_before_action :check_admin, only: %i[new create]
layout 'layouts/admin_login'

def new; end

def create
@user = login(params[:email], params[:password])
if @user
redirect_to admin_root_path, success: t('.success')
else
flash.now[:danger] = t('.fail')
render :new
end
end

def destroy
logout
redirect_to admin_login_path, success: t('.success')
end

```

ここで下記を実行

```

$ rails db:migrate

```

AWS は、、、

<div class="gatsby-code-title">
  <span>app/controllers/bookmarks_controller.rb</span>
</div>

```ruby
class Admin::UserSessionsController < Admin::BaseController
skip_before_action :require_login, only: %i[new create]
skip_before_action :check_admin, only: %i[new create]
layout 'layouts/admin_login'

def new; end

def create
@user = login(params[:email], params[:password])
if @user
redirect_to admin_root_path, success: t('.success')
else
flash.now[:danger] = t('.fail')
render :new
end
end

def destroy
logout
redirect_to admin_login_path, success: t('.success')
end

```

ここで下記を実行

```

$ rails db:migrate

```

AWS は、、、

<div class="gatsby-code-title">
  <span>app/controllers/bookmarks_controller.rb</span>
</div>

```ruby
class Admin::UserSessionsController < Admin::BaseController
skip_before_action :require_login, only: %i[new create]
skip_before_action :check_admin, only: %i[new create]
layout 'layouts/admin_login'

def new; end

def create
@user = login(params[:email], params[:password])
if @user
redirect_to admin_root_path, success: t('.success')
else
flash.now[:danger] = t('.fail')
render :new
end
end

def destroy
logout
redirect_to admin_login_path, success: t('.success')
end

```

ここで下記を実行

```

$ rails db:migrate

```

AWS は、、、

<div class="gatsby-code-title">
  <span>app/controllers/bookmarks_controller.rb</span>
</div>

```ruby
class Admin::UserSessionsController < Admin::BaseController
skip_before_action :require_login, only: %i[new create]
skip_before_action :check_admin, only: %i[new create]
layout 'layouts/admin_login'

def new; end

def create
@user = login(params[:email], params[:password])
if @user
redirect_to admin_root_path, success: t('.success')
else
flash.now[:danger] = t('.fail')
render :new
end
end

def destroy
logout
redirect_to admin_login_path, success: t('.success')
end

```

ここで下記を実行

```

$ rails db:migrate

```
